{"ast":null,"code":"var _jsxFileName = \"/Users/nechama/Downloads/personal_finance_managment/frontend/src/components/Analytics/Analytics.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport './Analytics.css';\nimport ExpensesSummary from './ExpensesSummary';\nimport IncomesSummary from './IncomesSummary';\nimport ExpensesByCategoryChart from './ExpensesByCategoryChart';\nimport ExpensesByMonthChart from './ExpensesByMonthChart';\nimport AnalyticsMetrics from './AnalyticsMetrics';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Analytics = () => {\n  _s();\n  const [expenses, setExpenses] = useState([]);\n  const [incomes, setIncomes] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [userEmail, setUserEmail] = useState('');\n  const handleEmailChange = event => {\n    setUserEmail(event.target.value);\n  };\n  useEffect(() => {\n    if (userEmail) {\n      fetch(`/api/expenses/${userEmail}`).then(response => response.json()).then(data => setExpenses(data)).catch(error => console.error('Error fetching expenses:', error));\n      fetch(`/api/incomes/${userEmail}`).then(response => response.json()).then(data => setIncomes(data)).catch(error => console.error('Error fetching incomes:', error));\n      fetch(`/api/categories/`).then(response => response.json()).then(data => setCategories(data)).catch(error => console.error('Error fetching categories:', error));\n    }\n  }, [userEmail]);\n  const expensesByCategory = expenses.reduce((acc, expense) => {\n    const categoryName = expense.CategoryName || `Category ${expense.CategoryID}`;\n    acc[categoryName] = (acc[categoryName] || 0) + expense.Amount;\n    return acc;\n  }, {});\n  const expensesByCategoryArray = Object.entries(expensesByCategory).map(([CategoryName, Amount]) => ({\n    CategoryName,\n    Amount\n  }));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"analytics-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Analytics\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"emailInput\",\n      children: \"Enter your email:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"email\",\n      id: \"emailInput\",\n      value: userEmail,\n      onChange: handleEmailChange,\n      placeholder: \"example@example.com\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"analytics-charts\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-container\",\n        children: /*#__PURE__*/_jsxDEV(ExpensesSummary, {\n          expenses: expenses\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-container\",\n        children: /*#__PURE__*/_jsxDEV(IncomesSummary, {\n          incomes: incomes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-container\",\n        children: /*#__PURE__*/_jsxDEV(ExpensesByCategoryChart, {\n          expensesByCategory: expensesByCategoryArray\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-container\",\n        children: /*#__PURE__*/_jsxDEV(ExpensesByMonthChart, {\n          monthlyExpenses: expenses\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-container\",\n        children: /*#__PURE__*/_jsxDEV(AnalyticsMetrics, {\n          analytics: []\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n_s(Analytics, \"zq7O+bEKlsQnFZZkgXR8VG8qDMc=\");\n_c = Analytics;\nexport default Analytics;\nvar _c;\n$RefreshReg$(_c, \"Analytics\");","map":{"version":3,"names":["React","useEffect","useState","ExpensesSummary","IncomesSummary","ExpensesByCategoryChart","ExpensesByMonthChart","AnalyticsMetrics","jsxDEV","_jsxDEV","Analytics","_s","expenses","setExpenses","incomes","setIncomes","categories","setCategories","userEmail","setUserEmail","handleEmailChange","event","target","value","fetch","then","response","json","data","catch","error","console","expensesByCategory","reduce","acc","expense","categoryName","CategoryName","CategoryID","Amount","expensesByCategoryArray","Object","entries","map","className","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","type","id","onChange","placeholder","monthlyExpenses","analytics","_c","$RefreshReg$"],"sources":["/Users/nechama/Downloads/personal_finance_managment/frontend/src/components/Analytics/Analytics.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './Analytics.css';\nimport ExpensesSummary from './ExpensesSummary';\nimport IncomesSummary from './IncomesSummary';\nimport ExpensesByCategoryChart from './ExpensesByCategoryChart';\nimport ExpensesByMonthChart from './ExpensesByMonthChart';\nimport AnalyticsMetrics from './AnalyticsMetrics';\n\ninterface Expense {\n  ExpenseID: number;\n  CategoryID: number;\n  CategoryName: string;\n  Amount: number;\n  Date: Date;\n  Description?: string;\n}\n\ninterface Income {\n  IncomeID: number;\n  Amount: number;\n  Date: Date;\n  Description?: string;\n}\n\ninterface Category {\n  CategoryID: number;\n  CategoryName: string;\n  Email: string;\n}\n\nconst Analytics: React.FC = () => {\n  const [expenses, setExpenses] = useState<Expense[]>([]);\n  const [incomes, setIncomes] = useState<Income[]>([]);\n  const [categories, setCategories] = useState<Category[]>([]);\n  const [userEmail, setUserEmail] = useState<string>('');\n\n  const handleEmailChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setUserEmail(event.target.value);\n  };\n\n  useEffect(() => {\n    if (userEmail) {\n      fetch(`/api/expenses/${userEmail}`)\n        .then(response => response.json())\n        .then((data: Expense[]) => setExpenses(data))\n        .catch(error => console.error('Error fetching expenses:', error));\n\n      fetch(`/api/incomes/${userEmail}`)\n        .then(response => response.json())\n        .then((data: Income[]) => setIncomes(data))\n        .catch(error => console.error('Error fetching incomes:', error));\n\n      fetch(`/api/categories/`)\n        .then(response => response.json())\n        .then((data: Category[]) => setCategories(data))\n        .catch(error => console.error('Error fetching categories:', error));\n    }\n  }, [userEmail]);\n\n  const expensesByCategory = expenses.reduce<Record<string, number>>((acc, expense) => {\n    const categoryName = expense.CategoryName || `Category ${expense.CategoryID}`;\n    acc[categoryName] = (acc[categoryName] || 0) + expense.Amount;\n    return acc;\n  }, {});\n\n  const expensesByCategoryArray = Object.entries(expensesByCategory).map(([CategoryName, Amount]) => ({\n    CategoryName,\n    Amount,\n  }));\n\n  return (\n    <div className=\"analytics-container\">\n      <h1>Analytics</h1>\n      <label htmlFor=\"emailInput\">Enter your email:</label>\n      <input\n        type=\"email\"\n        id=\"emailInput\"\n        value={userEmail}\n        onChange={handleEmailChange}\n        placeholder=\"example@example.com\"\n      />\n      \n      <div className=\"analytics-charts\">\n        <div className=\"chart-container\">\n          <ExpensesSummary expenses={expenses} />\n        </div>\n        <div className=\"chart-container\">\n          <IncomesSummary incomes={incomes} />\n        </div>\n        <div className=\"chart-container\">\n          <ExpensesByCategoryChart expensesByCategory={expensesByCategoryArray} />\n        </div>\n        <div className=\"chart-container\">\n          <ExpensesByMonthChart monthlyExpenses={expenses} />\n        </div>\n        <div className=\"chart-container\">\n          <AnalyticsMetrics analytics={[]} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Analytics;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}